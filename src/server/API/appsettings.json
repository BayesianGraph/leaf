{
  "Runtime": {
    "Mode": "FULL"
  },
  "Jwt": {
    "SigningKey": "LEAF_JWT_KEY",
    "Password": "LEAF_JWT_KEY_PW",
    "Certificate": "LEAF_JWT_CERT",
    "Issuer": "urn:leaf:iss:dev.leaf.tld"
  },
  "Db": {
    "App": {
      "Connection": "LEAF_APP_DB",
      "DefaultTimeout": 60
    },
    "Clin": {
      "Connection": "LEAF_CLIN_DB",
      "DefaultTimeout": 180,
      "Cohort": {
        "QueryStrategy": "CTE",
        "MaxParallelThreads": 5
      }
    }
  },
  "Authentication": {
    "Mechanism": "UNSECURED",
    "SessionTimeoutMinutes": 480,
    "InactivityTimeoutMinutes": 20,
    "LogoutURI": "https://www.github.com",
    "SAML2": {
      "Headers": {
        "ScopedIdentity": "eppn"
      }
    }
  },
  "Authorization": {
    "Mechanism": "UNSECURED",
    "SAML2": {
      "HeadersMapping": {
        "Entitlements": {
          "Name": "gws-groups",
          "Delimiter": ";"
        }
      },
      "RolesMapping": {
        "User": "urn:mace:users",
        "Super": "urn:mace:supers",
        "Identified": "urn:mace:phi",
        "Admin": "urn:mace:sudos",
        "Federated": "urn:mace:federated"
      }
    }
  },
  "Attestation": {
    "Enabled": false
  },
  "Compiler": {
    "Alias": "@",
    "FieldPersonId": "person_id",
    "FieldEncounterId": "visit_occurrence_id"
  },
  "Cohort": {
    "RowLimit": 200000,
    "ExportLimit": 500
  },
  "Export": {
    "REDCap": {
      "Enabled": true,
      "ApiURI": "https://redcap.example.edu/api/",
      "BatchSize": 10,
      "RowLimit": 5000,
      "Scope": "washington.edu",
      "SuperToken": "LEAF_REDCAP_SUPERTOKEN",
      "IncludeScopeInUsername": true
    },
    "CSV": {
      "Enabled": true
    }
  },
  "Import": {
    "REDCap": {
      "Enabled": true,
      "ApiURI": "https://redcap.example.edu/api/",
      "BatchSize": 1000
    }
  },
  "Deidentification": {
    "Patient": {
      "Enabled": true,
      "DateShifting": {
        "Increment": "DAY",
        "LowerBound": -365,
        "UpperBound": 365
      }
    },
    "Cohort": {
      "Enabled": false,
      "Noise": {
        "Enabled": false,
        "LowerBound": -10,
        "UpperBound": 10
      },
      "LowCellSizeMasking": {
        "Enabled": false,
        "Threshold": 10
      }
    }
  },
  "Client": {
    "Map": {
      "Enabled": true,
      "TileURI": "https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}"
    },
    "Visualize": {
      "Enabled": true,
      "ShowFederated": false
    },
    "PatientList": {
      "Enabled": true
    },
    "Help": {
      "Enabled": true,
      "AskQuestion": {
        "Enabled": true,
        "LinkText": "Ask a question"
      },
      "DirectEmail": {
        "Enabled": false,
        "Address": "leaf-support@example.edu",
        "LinkText": "Contact an Administrator"
      },
      "Website": {
        "Enabled": false,
        "URI": "https://www.example.edu/leaf-faq",
        "LinkText": "Learn more at our FAQ page"
      },
      "Consult": {
        "Enabled": true,
        "LinkText": "Request a Consult",
        "Webhook": {
          "Enabled": true,
          "URI": "http://localhost:5000"
        },
        "Email": {
          "Enabled": true
        },
        "FormContent": {
          "Title": "Request Biomedical Informatics Consult",
          "Text":  "The Biomedical Informatics team is here to help! Please fill out the information below and we will get back to you within 48 hours.",
          "Body": [
            {
              "Name": "What is the research question or purpose of your request?",
              "Required": true,
              "Type": "TEXTAREA"
            },
            {
              "Name": "Do you have an approved IRB?",
              "Required": true,
              "Default": "No",
              "Type": "DROPDOWN",
              "Options": [ "No", "Yes" ]
            },
            {
              "Name": "Do you have funding to pay for services?",
              "Required": true,
              "Default": "No",
              "Type": "DROPDOWN",
              "Options": [ "No", "Yes" ]
            },
            {
              "Name": "Who is the Principal Investigator?",
              "Type": "TEXT",
              "Required": false
            },
            {
              "Name": "Please describe the data elements you'd like to collect.",
              "Required": true,
              "Type": "TEXTAREA"
            }
          ]
        }
      }
    }
  },
  "Notification": {
    "Enabled": true,
    "Email": {
      "Server": "server",
      "UseSSL": true,
      "Sender": {
        "Address": "sender@u.edu"
      },
      "Receiver": {
        "Address": "receiver@u.edu"
      },
      "Credentials": {
        "Username": "LEAF_SMTP_USR",
        "Password": "LEAF_SMTP_PW"
      }
    }
  }
}